<template>
  <template if:true={_isEditable}>
    <div class="slds-theme_shade slds-p-around_medium">
      <div class="slds-align_absolute-center">
        <lightning-icon
          class="slds-m-right_x-small"
          size="x-small"
          icon-name="utility:info"
          alternative-text="Info"
          title="Info"
        ></lightning-icon>
        <span>
          You cannot edit status of a change if it has already been endorsed (endorsed changes have the status "Completed".)
        </span>
      </div>
    </div>
  </template>

  <c-custom-datatable
    key-field="id"
    columns={columns}
    data={tableData}
    draft-values={draftValues}
    ontabledropdownchange={handleDropdownChange}
    onsave={handleSave}
    oncancel={handleCancel}
    hide-checkbox-column
  >
  </c-custom-datatable>

  <template if:true={isSaving}>
    <lightning-spinner alternative-text="Loading" size="small"></lightning-spinner>
  </template>

  <template if:true={showPaginator}>
    <div class="slds-m-around_medium">
      <p class="slds-m-vertical_medium content">
        Displaying {currentIndex} to {lastIndex} of {totalLength} records. Page {page} of {numPages}.
      </p>
      <c-paginator onprevious={handlePrevious} onnext={handleNext}></c-paginator>
    </div>
  </template>
</template>