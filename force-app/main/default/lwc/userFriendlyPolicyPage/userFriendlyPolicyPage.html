<template>
  <h2 class="slds-text-heading_medium slds-m-top_small">Quote details</h2>

  <!-- Quote errors -->
  <template if:true={errors.length}>
    <div class="slds-notify slds-text-align_left slds-notify_alert slds-theme_error slds-m-top_medium" role="alert">
      <span class="slds-assistive-text">error</span>
      <lightning-icon icon-name="utility:error" alternative-text="Error" variant="inverse" size="x-small"
      class="slds-p-right_medium"></lightning-icon>
      <div class="slds-size_11-of-12">
        <p>Fix the following errors in the "Details" tab:</p>
        <ul class="slds-list_dotted slds-m-top_xx-small">
          <template for:each={errors} for:item="error">
            <li key={error}>
              <lightning-formatted-rich-text value={error}></lightning-formatted-rich-text>
            </li>
          </template>
        </ul>
      </div>
    </div>
  </template>

  <!-- Quote details -->
  <div class="slds-grid slds-wrap slds-gutters_x-small slds-m-top_medium slds-m-bottom_large">
    <div class="slds-col slds-size_1-of-1 slds-medium-size_3-of-12 slds-large-size_2-of-12">
      <lightning-input type="text" name="producer" label="Producer" value={quote.producer} readonly></lightning-input>
    </div>
    <div class="slds-col slds-size_1-of-1 slds-medium-size_3-of-12 slds-large-size_2-of-12">
      <lightning-input type="number" name="tax-amount" label="Tax Amount" value={quote.taxAmount} formatter="percent"
        readonly></lightning-input>
    </div>
    <div class="slds-col slds-size_1-of-1 slds-medium-size_3-of-12 slds-large-size_2-of-12">
      <lightning-input type="number" name="invoiced-amount" label="Total Invoiced Amount" value={quote.invoicedAmount}
        formatter="currency" readonly></lightning-input>
    </div>
    <div class="slds-col slds-size_1-of-1 slds-medium-size_3-of-12 slds-large-size_2-of-12">
      <lightning-input type="date" name="effective-date" label="Effective Date" value={quote.effectiveDate} readonly>
      </lightning-input>
    </div>
    <div class="slds-col slds-size_1-of-1 slds-medium-size_3-of-12 slds-large-size_2-of-12">
      <lightning-input type="text" name="term" label="Term" value={quote.term} readonly></lightning-input>
    </div>
    <div class="slds-col slds-size_1-of-1 slds-medium-size_3-of-12 slds-large-size_2-of-12">
      <lightning-input type="date" name="expiration-date" label="Expiration Date" value={quote.expirationDate} readonly>
      </lightning-input>
    </div>
    <div class="slds-col slds-size_1-of-1 slds-medium-size_6-of-12 slds-large-size_4-of-12">
      <lightning-input type="text" name="billing-type" label="Billing Type" value={quote.billingType} readonly>
      </lightning-input>
    </div>
  </div>

  <!-- Policies -->
  <div class="slds-border_top">
    <c-user-friendly-policy-creation 
        quote={quote} 
        is-quote-closed={isQuoteClosed} 
        record-id={recordId}>
    </c-user-friendly-policy-creation>
  </div>
</template>